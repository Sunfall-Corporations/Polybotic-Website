import{a as L,n as N,i as k,t as C,b as B,d as z,e as I,f as V,g as j}from"./CzWue09X.js";import{B as W,r as g,R as X,aj as H,o as q,ak as F,x as U}from"./lq8UTrXd.js";const A=z?window:void 0,P=z?window.navigator:void 0;function x(e){var n;const u=C(e);return(n=u==null?void 0:u.$el)!=null?n:u}function E(...e){let n,u,a,v;if(typeof e[0]=="string"||Array.isArray(e[0])?([u,a,v]=e,n=A):[n,u,a,v]=e,!n)return N;Array.isArray(u)||(u=[u]),Array.isArray(a)||(a=[a]);const o=[],l=()=>{o.forEach(s=>s()),o.length=0},c=(s,t,r,f)=>(s.addEventListener(t,r,f),()=>s.removeEventListener(t,r,f)),d=X(()=>[x(n),C(v)],([s,t])=>{if(l(),!s)return;const r=k(t)?{...t}:t;o.push(...u.flatMap(f=>a.map(h=>c(s,f,h,r))))},{immediate:!0,flush:"post"}),i=()=>{d(),l()};return B(i),i}function $(){const e=g(!1),n=F();return n&&q(()=>{e.value=!0},n),e}function Y(e){const n=$();return W(()=>(n.value,!!e()))}function D(e,n,u={}){const{window:a=A,...v}=u;let o;const l=Y(()=>a&&"MutationObserver"in a),c=()=>{o&&(o.disconnect(),o=void 0)},d=W(()=>{const r=C(e),f=(Array.isArray(r)?r:[r]).map(x).filter(j);return new Set(f)}),i=X(()=>d.value,r=>{c(),l.value&&r.size&&(o=new MutationObserver(n),r.forEach(f=>o.observe(f,v)))},{immediate:!0,flush:"post"}),s=()=>o==null?void 0:o.takeRecords(),t=()=>{i(),c()};return B(t),{isSupported:l,stop:t,takeRecords:s}}function ee(e={}){var n;const{window:u=A,deep:a=!0,triggerOnRemoval:v=!1}=e,o=(n=e.document)!=null?n:u==null?void 0:u.document,l=()=>{var i;let s=o==null?void 0:o.activeElement;if(a)for(;s!=null&&s.shadowRoot;)s=(i=s==null?void 0:s.shadowRoot)==null?void 0:i.activeElement;return s},c=g(),d=()=>{c.value=l()};return u&&(E(u,"blur",i=>{i.relatedTarget===null&&d()},!0),E(u,"focus",d,!0)),v&&D(o,i=>{i.filter(s=>s.removedNodes.length).map(s=>Array.from(s.removedNodes)).flat().forEach(s=>{s===c.value&&d()})},{childList:!0,subtree:!0}),d(),c}function T(e,n={}){const{controls:u=!1,navigator:a=P}=n,v=Y(()=>a&&"permissions"in a),o=H(),l=typeof e=="string"?{name:e}:e,c=H(),d=()=>{var s,t;c.value=(t=(s=o.value)==null?void 0:s.state)!=null?t:"prompt"};E(o,"change",d);const i=I(async()=>{if(v.value){if(!o.value)try{o.value=await a.permissions.query(l)}catch{o.value=void 0}finally{d()}if(u)return U(o.value)}});return i(),u?{state:c,isSupported:v,query:i}:c}function te(e={}){const{navigator:n=P,read:u=!1,source:a,copiedDuring:v=1500,legacy:o=!1}=e,l=Y(()=>n&&"clipboard"in n),c=T("clipboard-read"),d=T("clipboard-write"),i=W(()=>l.value||o),s=g(""),t=g(!1),r=L(()=>t.value=!1,v);function f(){l.value&&b(c.value)?n.clipboard.readText().then(m=>{s.value=m}):s.value=O()}i.value&&u&&E(["copy","cut"],f);async function h(m=C(a)){i.value&&m!=null&&(l.value&&b(d.value)?await n.clipboard.writeText(m):w(m),s.value=m,t.value=!0,r.start())}function w(m){const y=document.createElement("textarea");y.value=m??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function O(){var m,y,R;return(R=(y=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:y.toString())!=null?R:""}function b(m){return m==="granted"||m==="prompt"}return{isSupported:i,text:s,copied:t,copy:h}}function G(e,n,u={}){const{window:a=A,...v}=u;let o;const l=Y(()=>a&&"ResizeObserver"in a),c=()=>{o&&(o.disconnect(),o=void 0)},d=W(()=>{const t=C(e);return Array.isArray(t)?t.map(r=>x(r)):[x(t)]}),i=X(d,t=>{if(c(),l.value&&a){o=new ResizeObserver(n);for(const r of t)r&&o.observe(r,v)}},{immediate:!0,flush:"post"}),s=()=>{c(),i()};return B(s),{isSupported:l,stop:s}}function oe(e,n={width:0,height:0},u={}){const{window:a=A,box:v="content-box"}=u,o=W(()=>{var t,r;return(r=(t=x(e))==null?void 0:t.namespaceURI)==null?void 0:r.includes("svg")}),l=g(n.width),c=g(n.height),{stop:d}=G(e,([t])=>{const r=v==="border-box"?t.borderBoxSize:v==="content-box"?t.contentBoxSize:t.devicePixelContentBoxSize;if(a&&o.value){const f=x(e);if(f){const h=f.getBoundingClientRect();l.value=h.width,c.value=h.height}}else if(r){const f=Array.isArray(r)?r:[r];l.value=f.reduce((h,{inlineSize:w})=>h+w,0),c.value=f.reduce((h,{blockSize:w})=>h+w,0)}else l.value=t.contentRect.width,c.value=t.contentRect.height},u);V(()=>{const t=x(e);t&&(l.value="offsetWidth"in t?t.offsetWidth:n.width,c.value="offsetHeight"in t?t.offsetHeight:n.height)});const i=X(()=>x(e),t=>{l.value=t?n.width:0,c.value=t?n.height:0});function s(){d(),i()}return{width:l,height:c,stop:s}}const J={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function K(e={}){const{type:n="page",touch:u=!0,resetOnTouchEnds:a=!1,initialValue:v={x:0,y:0},window:o=A,target:l=o,scroll:c=!0,eventFilter:d}=e;let i=null,s=0,t=0;const r=g(v.x),f=g(v.y),h=g(null),w=typeof n=="function"?n:J[n],O=p=>{const M=w(p);i=p,M&&([r.value,f.value]=M,h.value="mouse"),o&&(s=o.scrollX,t=o.scrollY)},b=p=>{if(p.touches.length>0){const M=w(p.touches[0]);M&&([r.value,f.value]=M,h.value="touch")}},m=()=>{if(!i||!o)return;const p=w(i);i instanceof MouseEvent&&p&&(r.value=p[0]+o.scrollX-s,f.value=p[1]+o.scrollY-t)},y=()=>{r.value=v.x,f.value=v.y},R=d?p=>d(()=>O(p),{}):p=>O(p),S=d?p=>d(()=>b(p),{}):p=>b(p),_=d?()=>d(()=>m(),{}):()=>m();if(l){const p={passive:!0};E(l,["mousemove","dragover"],R,p),u&&n!=="movement"&&(E(l,["touchstart","touchmove"],S,p),a&&E(l,"touchend",y,p)),c&&n==="page"&&E(o,"scroll",_,{passive:!0})}return{x:r,y:f,sourceType:h}}function ne(e,n={}){const{handleOutside:u=!0,window:a=A}=n,v=n.type||"page",{x:o,y:l,sourceType:c}=K(n),d=g(e??(a==null?void 0:a.document.body)),i=g(0),s=g(0),t=g(0),r=g(0),f=g(0),h=g(0),w=g(!0);let O=()=>{};return a&&(O=X([d,o,l],()=>{const b=x(d);if(!b||!(b instanceof Element))return;const{left:m,top:y,width:R,height:S}=b.getBoundingClientRect();t.value=m+(v==="page"?a.pageXOffset:0),r.value=y+(v==="page"?a.pageYOffset:0),f.value=S,h.value=R;const _=o.value-t.value,p=l.value-r.value;w.value=R===0||S===0||_<0||p<0||_>R||p>S,(u||!w.value)&&(i.value=_,s.value=p)},{immediate:!0}),E(document,"mouseleave",()=>{w.value=!0})),{x:o,y:l,sourceType:c,elementX:i,elementY:s,elementPositionX:t,elementPositionY:r,elementHeight:f,elementWidth:h,isOutside:w,stop:O}}export{ee as a,E as b,ne as c,oe as d,G as e,x as f,te as u};
