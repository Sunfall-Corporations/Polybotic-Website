import{_ as D}from"./CChKABma.js";import{_ as I}from"./G2JI7da_.js";import{d as u,r as x,o as M,j as h,c as S,h as i,w as d,n as E,y as p,u as V,z as F,P,p as C,A as K,B as Q,C as g,a as T,D as Y,E as q,G as y,H as J,I as X,S as G,T as W,J as Z,L as tt,e as f,K as k,M as et,N as ot,s as w,O as nt,Q as at,m as st}from"./DmmSnLaP.js";import rt from"./a0A616Ch.js";import it from"./DvjNMD2S.js";import{K as lt,V as ut}from"./Dm4DM1Hy.js";import{u as ct}from"./Ckw6_o7Y.js";import{q as pt}from"./CqQJQ_rF.js";import{u as dt}from"./DLKuSAFf.js";import{u as mt}from"./BwZ0nCNc.js";import{d as ft}from"./BkiJN_Vz.js";import"./Cq8LcUA1.js";import"./DlAUqK2U.js";import"./v14BE43r.js";import"./C-v3KzvZ.js";import"./CxYJgpPD.js";import"./DbYdAk-L.js";import"./CBNVx3T1.js";const gt={class:"fixed bottom-36 right-3 z-50 sm:bottom-20"},yt=u({__name:"ScrollToTop",setup(t){const e=x(!1);M(()=>{window.addEventListener("scroll",()=>{e.value=window.scrollY>0})});function o(){window.scrollTo({top:0,behavior:"smooth"})}return(n,a)=>{const s=D,l=I;return h(),S("div",gt,[i(l,{"aria-label":"scroll to top button",class:E(["flex size-10 items-center justify-center p-1 text-muted transition-all duration-200 hover:text-main",{"opacity-100":p(e),"opacity-0":!p(e)}]),rounded:"",onClick:o},{default:d(()=>[i(s,{name:"heroicons-arrow-up",class:"z-20 size-6"})]),_:1},8,["class"])])}}}),_t=Object.assign(yt,{__name:"LayoutScrollToTop"}),ht=u({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>y(g[t.name],t.layoutProps,e.slots)}}),St=u({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(t,e){const o=V(),n=F(P),a=n===C()?K():n,s=Q(()=>{let r=p(t.name)??a.meta.layout??"default";return r&&!(r in g)&&t.fallback&&(r=p(t.fallback)),r}),l=x();e.expose({layoutRef:l});const m=o.deferHydration();if(o.isHydrating){const r=o.hooks.hookOnce("app:error",m);T().beforeEach(r)}return()=>{const r=s.value&&s.value in g,c=a.meta.layoutTransition??Y;return q(W,r&&c,{default:()=>y(G,{suspensible:!0,onResolve:()=>{X(m)}},{default:()=>y(bt,{layoutProps:J(e.attrs,{ref:l}),key:s.value||void 0,name:s.value,shouldProvide:!t.name,hasTransition:!!c},e.slots)})}).default()}}}),bt=u({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,e){const o=t.name;return t.shouldProvide&&Z(tt,{isCurrent:n=>o===(n.meta.layout??"default")}),()=>{var n,a;return!o||typeof o=="string"&&!(o in g)?(a=(n=e.slots).default)==null?void 0:a.call(n):y(ht,{key:o,layoutProps:t.layoutProps,name:o},e.slots)}}}),vt=["width","height","x","y"],wt=["cx","cy","r"],xt=u({__name:"DotPattern",props:{size:{type:Number,default:16},radius:{type:Number,default:1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0}},setup(t){return(e,o)=>(h(),S("svg",null,[f("defs",null,[f("pattern",{id:"dot-pattern",width:t.size,height:t.size,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse",x:t.offsetX,y:t.offsetY},[f("circle",{cx:t.size/2,cy:t.size/2,r:t.radius},null,8,wt)],8,vt)]),o[0]||(o[0]=f("rect",{width:"100%",height:"100%","stroke-width":"0",fill:"url(#dot-pattern)"},null,-1))]))}}),Pt=Object.assign(xt,{__name:"DotPattern"}),Ct=t=>{const e=Object.create(null);for(const o in t){const n=t[o];n!==void 0&&(e[o]=n)}return e},z=(t,e)=>(o,n)=>(k(()=>t({...Ct(o),...n.attrs},n)),()=>{var a,s;return e?(s=(a=n.slots).default)==null?void 0:s.call(a):null}),B={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:[String,Object,Array],tabindex:String,title:String,translate:String},Tt=u({name:"Html",inheritAttrs:!1,props:{...B,manifest:String,version:String,xmlns:String,renderPriority:[String,Number]},setup:z(t=>({htmlAttrs:t}),!0)}),kt=u({name:"Body",inheritAttrs:!1,props:{...B,renderPriority:[String,Number]},setup:z(t=>({bodyAttrs:t}),!0)}),Yt=u({__name:"[...slug]",async setup(t){let e,o;const n=C(),{data:a}=([e,o]=et(()=>ct(`${n.path}`,()=>pt(n.path).findOne())),e=await e,o(),e);if(!a.value)throw ot({statusCode:404,statusMessage:"Page not found"});dt(a.value);const s=st(),l=w(),{appName:m,email:r}=w(),{t:c,locale:b}=nt();k({titleTemplate:`%s - ${m}`}),at({description:()=>c("global.app_description"),author:"Hugo Richard",ogImage:"https://canvas.hrcd.fr/social-preview.jpg",ogType:"website",ogTitle:l.appName,ogDescription:()=>c("global.app_description"),ogUrl:()=>s.public.siteUrl,ogLocale:()=>b.value,twitterTitle:l.appName,twitterDescription:()=>c("global.app_description"),twitterCard:"summary_large_image",twitterSite:l.twitterUsername,twitterCreator:l.twitterUsername,twitterImage:"https://canvas.hrcd.fr/social-preview.jpg"});const{copy:L}=mt({source:r});ft({meta_o:{usingInput:!0,handler:()=>{L(),lt.success(c("global.email_copied"))}}});const v=T();return n.path==="/bot"?v.push("https://discord.com/oauth2/authorize?client_id=1309244360789069948"):n.path==="/invite"&&v.push("https://discord.gg/AbMuFaCJ7F"),(_,zt)=>{const N=_t,j=rt,A=it,O=St,R=Pt,U=kt,H=Tt;return h(),S("div",null,[i(H,{lang:_.$i18n.locale,class:"bg-zinc-950 text-main font-geist transition-colors duration-300 selection:bg-white/60 selection:text-zinc-800"},{default:d(()=>[i(U,null,{default:d(()=>[i(N),i(O,null,{default:d(()=>[i(A,{path:(_._.provides[P]||_.$route).path,locale:p(b),find:"one"},{default:d(({data:$})=>[i(j,{value:$},null,8,["value"])]),_:1},8,["path","locale"])]),_:1}),i(p(ut),{"close-button":""}),i(R,{class:"absolute inset-0 -z-10 size-full fill-white/5 [mask-image:radial-gradient(white,transparent_85%)]"})]),_:1})]),_:1},8,["lang"])])}}});export{Yt as default};
