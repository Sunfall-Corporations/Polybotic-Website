import{_ as z}from"./CjNZZPLd.js";import{_ as L}from"./BdKKyx6P.js";import{I as T}from"./qAt8W-FZ.js";import{d as S,j as o,U as A,w as q,e as s,h,t as c,R as D,O,r as f,M as U,B as g,c as r,y as a,n as y,ac as W,F as b,Y as $,g as C,al as F}from"./DmmSnLaP.js";import{r as k}from"./BsmMH2FE.js";import{u as M}from"./Ckw6_o7Y.js";import{q as R}from"./CqQJQ_rF.js";import"./DlAUqK2U.js";import"./CChKABma.js";import"./Cq8LcUA1.js";import"./CZcpFnDk.js";import"./CBNVx3T1.js";import"./CxYJgpPD.js";import"./DbYdAk-L.js";const E={class:"overflow-hidden rounded-md border border-white/10 shadow-md shadow-zinc-950/50 transition-colors duration-200 hover:border-white/20"},G={class:"flex flex-col"},Y={class:"text-lg font-semibold"},H={class:"text-xs text-muted"},J=S({__name:"ArticleCard",props:{title:{type:String,required:!0},date:{type:String,required:!0},image:{type:String,required:!0},path:{type:String,required:!0}},setup(l){return(d,p)=>{const _=T,n=D;return o(),A(n,{to:l.path,"aria-label":l.title,class:"flex cursor-pointer flex-col gap-2"},{default:q(()=>[s("div",E,[h(_,{width:"1536",alt:`${l.title} article image`,class:"h-64 w-full object-cover transition-transform duration-200 hover:scale-105",src:l.image,"aria-label":`${l.title} article image`},null,8,["alt","src","aria-label"])]),s("div",G,[s("h3",Y,c(l.title),1),s("span",H,c(l.date),1)])]),_:1},8,["to","aria-label"])}}}),K=Object.assign(J,{__name:"ArticleCard"}),P={class:"mx-auto mt-4 flex max-w-4xl flex-col p-7 sm:mt-20"},Q={class:"font-newsreader italic text-white-shadow text-center text-4xl"},X={class:"text-center text-lg font-extralight italic text-muted"},Z={key:0,class:"mb-4 flex flex-col gap-2"},tt={class:"my-4"},et={key:0,class:"mb-4 flex flex-wrap gap-2"},st=["onClick"],at={class:"font-extralight"},ot={key:2,class:"flex h-64 flex-col items-center justify-center gap-2"},nt={class:"text-2xl"},lt={class:"text-sm"},it=S({__name:"Writing",async setup(l){let d,p;const{locale:_}=O(),n=f([]),m=f(""),u=f(!1),{data:V}=([d,p]=U(()=>M("articles",()=>R("/articles").locale(_.value).sort({date:-1}).find(),{watch:[_]})),d=await d,p(),d),x=g(()=>V.value),w=g(()=>Array.from(new Set(x.value.flatMap(t=>t.tags)))),v=g(()=>x.value.filter(t=>(n.value.length===0||n.value.some(i=>t.tags.includes(i)))&&(m.value===""||t.title.toLowerCase().includes(m.value.toLowerCase())))),j=t=>{n.value=n.value.includes(t)?n.value.filter(i=>i!==t):[...n.value,t]};return(t,i)=>{const B=z,I=L,N=K;return o(),r("section",P,[s("h1",Q,[k(t.$slots,"title")]),s("h2",X,[k(t.$slots,"subtitle")]),h(B,{class:"mb-8 mt-2"}),s("div",{class:y(a(u)?"":"mb-3")},[s("span",{class:"font-newsreader italic text-white-shadow cursor-pointer select-none text-lg",onClick:i[0]||(i[0]=e=>u.value=!a(u))},c(a(u)?t.$t("writing.hide_search"):t.$t("writing.show_search")),1)],2),a(u)?(o(),r("div",Z,[s("div",tt,[h(I,{modelValue:a(m),"onUpdate:modelValue":i[1]||(i[1]=e=>W(m)?m.value=e:null),variant:"none",class:"w-full sm:w-96",placeholder:t.$t("writing.search_article")},null,8,["modelValue","placeholder"])]),a(w).length>0?(o(),r("div",et,[(o(!0),r(b,null,$(a(w),e=>(o(),r("div",{key:e,class:y(["hover:text-shadow-md flex cursor-pointer select-none items-center rounded-md bg-secondary px-2 py-1 text-xs text-main transition-colors duration-100 text-shadow-sm hover:bg-zinc-700 sm:text-sm",{"bg-zinc-700":a(n).includes(e)}]),onClick:rt=>j(e)},[s("div",at,c(e),1)],10,st))),128))])):C("",!0)])):C("",!0),a(v).length?(o(),A(F,{key:1,name:"list",tag:"ul",class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},{default:q(()=>[(o(!0),r(b,null,$(a(v),e=>(o(),r("li",{key:e._path},[h(N,{title:e.title,date:e.date,image:e.image,path:e._path},null,8,["title","date","image","path"])]))),128))]),_:1})):(o(),r("div",ot,[s("span",nt,c(t.$t("writing.not_found")),1),s("span",lt,c(t.$t("writing.not_found_description")),1)]))])}}}),$t=Object.assign(it,{__name:"Writing"});export{$t as default};
